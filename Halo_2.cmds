D:\eldewrito\eldewrito 0.7\ElDewrito\maps
SetVariable modsfolder "D:\eldewrito\eldewrito 0.7\ElDewrito\mods"
SetVariable h2maps "E:\Halo Resources\Halo2V"
SetVariable h3maps "E:\Halo Resources\Halo3"
SetVariable h3mythicmaps "E:\Halo Resources\Halo3mythic"
SetVariable odstmaps "E:\Halo Resources\Halo3odst"
SetVariable workingdir "C:\Users\Matthew\Documents\GitHub\H2AMP"



# echo ==Creating Mod Package...==
CreateModPackage 1 large
Halo 2 Anniversary Multiplayer
Halo 2 Multiplayer maps in ElDewrito.
AMP Collective
0.1
Multiplayer MainMenu

RunCommands "workingdir\cmds\shaderupdates.cmds"

RunCommands "workingdir\cmds\h2menu.cmds"

EditTag objects\gear\human\military\crate_packing_giant\crate_packing_giant.render_model
SaveTagChanges
Exit
NameTag objects\gear\human\military\crate_packing_giant\crate_packing_giant.render_model objects\gear\human\military\crate_packing_giant\crate_packing_giant_ho
EditTag objects\gear\human\military\crate_packing_giant\crate_packing_giant_mp.model
SetField RenderModel objects\gear\human\military\crate_packing_giant\crate_packing_giant_ho.render_model
SaveTagChanges
Exit

EditTag objects\gear\human\military\crate_packing\crate_packing.crate
SaveTagChanges
Exit
EditTag objects\gear\human\military\crate_packing\crate_packing.model
SaveTagChanges
Exit
EditTag objects\gear\human\military\crate_packing\crate_packing.render_model
SaveTagChanges
Exit
NameTag objects\gear\human\military\crate_packing\crate_packing.crate objects\gear\human\military\crate_packing\crate_packing_ho
NameTag objects\gear\human\military\crate_packing\crate_packing.model objects\gear\human\military\crate_packing\crate_packing_ho
NameTag objects\gear\human\military\crate_packing\crate_packing.render_model objects\gear\human\military\crate_packing\crate_packing_ho

OpenCacheFile "h2maps\ascension.map"
PortTag *.scnr
Exit

#EditTag scenarios\multi\ascension\ascension.scenario
#importmapvariant MapFile "workingdir\map_variants\ascension\sandbox.map"
#SaveTagChanges
#Exit

OpenCacheFile "h2maps\backwash.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\beavercreek.map"
PortTag *.scnr
Exit

EditTag scenarios\bitmaps\multi\halo\beavercreek\bc_carve.bitmap
Importbitmap 0 "workingdir\bitmaps\bc_carve_inverted.dds"
SaveTagChanges
Exit

OpenCacheFile "h2maps\burial_mounds.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\coagulation.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\colossus.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\containment.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\cyclotron.map"
PortTag *.scnr
Exit

EditTag scenarios\objects\multi\cyclotron\elevator_cyclotron\elevator_cyclotron.model_animation_graph
AddAnimation "workingdir\animations\elevator_cyclotron\device position.JMO"
SetField Animations[0].AnimationData.AnimationType Overlay
SaveTagChanges
Exit

EditTag scenarios\objects\multi\cyclotron\elevator_cyclotron\elevator_cyclotron.device_machine
SetField PositionTransitionTime .083
SaveTagChanges
Exit

OpenCacheFile "h2maps\deltatap.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\derelict.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\dune.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\elongation.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\foundation.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\gemini.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\headlong.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\highplains.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\lockout.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\midship.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\needle.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\street_sweeper.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\triplicate.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\turf.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\warlock.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\waterworks.map"
PortTag *.scnr
Exit

OpenCacheFile "h2maps\zanzibar.map"
NameBlamTag scenarios\multi\zanzibar\zanzibar.scnr scenarios\multi\zanzibar\zanzibar2
PortTag scenarios\multi\zanzibar\zanzibar2.scnr
Exit



AddModFiles workingdir\assets

UpdateMapFiles

RunCommands workingdir\cmds\MapFiles.cmds

# EpicPerry what changed on the HUD message?
RunCommands workingdir\cmds\unic_hud_message.cmds

RunCommands workingdir\cmds\h2hud.cmds

RunCommands workingdir\cmds\Halo_2_Shader_Fixes.cmds

RunCommands workingdir\cmds\bipeds.cmds

RunCommands workingdir\cmds\weaponsWIP.cmds

RunCommands workingdir\cmds\h2sounds.cmds

RunCommands workingdir\cmds\h2stats.cmds

RunCommands workingdir\cmds\customization.cmds

RunCommands workingdir\cmds\animations_fp_weapons_spartan.cmds


echo WHY DOES THIS NEED TO BE HERE


edittag objects\levels\atlas\city_bridge\city_bridge.mode
replacerendergeometry workingdir\tags\objects\levels\atlas\city_bridge\city_bridge.dae
AddBlockElements Materials 54
setfield materials[0].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey.rmsh
setfield materials[1].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge.rmsh
setfield materials[2].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge.rmsh
setfield materials[5].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge.rmsh
setfield materials[8].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge.rmsh
setfield materials[11].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge.rmsh
setfield materials[14].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge.rmsh
setfield materials[17].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge.rmsh
setfield materials[18].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge.rmsh
setfield materials[21].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge.rmsh
setfield materials[24].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge.rmsh
setfield materials[25].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge.rmsh
setfield materials[26].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge_rusty.rmsh
setfield materials[27].rendermethod objects\levels\atlas\city_bridge\shaders\concrete_stained_pier.rmsh
setfield materials[28].rendermethod objects\levels\atlas\city_bridge\shaders\metal_strips_c_rusty.rmsh
setfield materials[29].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge_rusty.rmsh
setfield materials[30].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge_rusty.rmsh
setfield materials[31].rendermethod objects\levels\atlas\city_bridge\shaders\concrete_stained_pier.rmsh
setfield materials[32].rendermethod objects\levels\atlas\city_bridge\shaders\metal_strips_c_rusty.rmsh
setfield materials[33].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge_rusty.rmsh
setfield materials[34].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge_rusty.rmsh
setfield materials[35].rendermethod objects\levels\atlas\city_bridge\shaders\concrete_stained_pier.rmsh
setfield materials[36].rendermethod objects\levels\atlas\city_bridge\shaders\metal_strips_c_rusty.rmsh
setfield materials[37].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge_rusty.rmsh
setfield materials[38].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge_rusty.rmsh
setfield materials[39].rendermethod objects\levels\atlas\city_bridge\shaders\concrete_stained_pier.rmsh
setfield materials[40].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge.rmsh
setfield materials[41].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge_rusty.rmsh
setfield materials[42].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge_rusty.rmsh
setfield materials[43].rendermethod objects\levels\atlas\city_bridge\shaders\concrete_stained_pier.rmsh
setfield materials[44].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge.rmsh
setfield materials[45].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey_edge_rusty.rmsh
setfield materials[46].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey.rmsh
setfield materials[47].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey.rmsh
setfield materials[48].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey.rmsh
setfield materials[49].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey.rmsh
setfield materials[50].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey.rmsh
setfield materials[51].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey.rmsh
setfield materials[52].rendermethod objects\levels\atlas\city_bridge\shaders\matte_grey.rmsh
setfield materials[53].rendermethod objects\levels\atlas\city_bridge\shaders\street_straight_unlit.rmsh
savetagchanges
exit

echo halo 2 flashlight
EditTag objects\characters\masterchief\flashlight_1p.light
SetField Flags AllowShadowsAndGels,ShadowCasting,RenderFirstPersonOnly,MoveToCameraInFirstPerson,NeverPriorityCull
SetField MaximumDistance 12
SetField DistanceDiffusion 0.2
SetField AngularSmoothness 0
SetField FrustumNearWidth 0.2
savetagchanges
exit

echo add ranks

edittag ui\halox\spartan_program\exp_lg_ui.bitmap
importbitmap 0 workingdir\bitmaps\ranks\exp_lg_ui.dds
exit

edittag ui\halox\common\roster\exp_med_ui.bitmap
importbitmap 0 workingdir\bitmaps\ranks\exp_med_ui.dds
exit

MapFile Remove 8765
MapFile Remove 0

##EditTag multiplayer\forge_globals.forge_globals_definition
##MaximizeBudget All
##SaveTagChanges
##Exit

SaveModPackage "modsfolder\H2AMP.pak"

ExitModPackage

OpenModPackage "modsfolder\H2AMP.pak"

SaveModPackage "modsfolder\H2AMP.pak"

DumpLog workingdir\logs